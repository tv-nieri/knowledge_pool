{% extends 'knowledge_pool/base.html' %}
{% load bootstrap3 %}
{% load staticfiles %}
{% load static %}

{% block header %}
    <h2>Gráficos disponíveis</h2>
{% endblock header %}

{% block content %}

<div class="panel panel-default">
    <div class="panel-heading">
        <h4>Assuntos com maior número de entradas</h4>
        <small>mostra os assuntos que mais recebem entradas.</small>
    </div>
    <div class="panel-body" id="chart_canvas">
        <div class="col-md-10">
            <canvas id="assuntosComMaisEntradas"></canvas>
        </div>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h4>Entradas mais utilizadas</h4>
        <small>mostra as entradas que mais ajudaram a resolver problemas recorrentes.</small>
        <div class="pull-right">
            <a href="{% url 'knowledge_pool:entradas_utilizadas' %}" alt="entradas">Ver entradas mais utilizadas</a>
        </div>
    </div>
    <div class="panel-body" id="chart_canvas">
        <div class="col-md-10">
            <canvas id="entradasMaisUtilizadas"></canvas>
        </div>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h4>Maiores Contribuidores</h4>
        <small>mostra os membros do time que mais contribuem para o crescimento da base.</small>
    </div>
    <div class="panel-body" id="chart_canvas">
        <div class="col-md-10">
            <canvas id="usersComMaisEntradas"></canvas>
        </div>
    </div>
</div>

{% endblock content %}

{% block scripts %}
    <!-- Gráfico de assuntos com maior número de entradas -->
    <script>
        getVerticalBarChart("assuntosComMaisEntradas", '{{ titulos|safe }}', '{{ entradas|safe }}', "# Entradas por Assunto");
        getVerticalBarChart("usersComMaisEntradas", '{{ users|safe }}', '{{ entradas_por_user|safe }}', "# Qtd de entradas");
        getVerticalBarChart("entradasMaisUtilizadas", '{{ assuntos_entradas|safe }}', '{{ qnt_entradas_utilizadas|safe }}', "# Entradas mais utilizadas")
    </script>

{% endblock scripts %}